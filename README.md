# keisuke
プログラムソースの行数計測ツール
- - -
### 概要
StepCounter (http://github.com/takezoe/stepcounter) のコマンドラインI/Fで出力されるファイルに対し、集計する機能があります。  
StepCounterをベースにソースコードの行数計測をする機能もあります。行数計測において本ツールで改変したのはStepCounterの行数カウントと２つの版の差分行数カウントの機能です。コマンドラインI/Fのみであり、StepCounterの用意しているSwingのGUIやAntタスクやEclipseプラグインなどのI/Fはありません。
- - -
### 使い方
#### 行数カウント集計コマンド
```
> java -cp keisuke-x.x.x-jar-with-dependencies.jar keisuke.CountReport [行数計測ファイル]
```
行数計測ファイルは入力であり、省略時は標準入力となります。  
行数計測ファイルは、stepcounter.MainでCSV形式で出力されたファイルと同じフォーマットであることが必要です。  
入力を分類ごとに集計した結果は標準出力に出力されます。

オプション引数"-?", "--help"を指定すると他のオプション引数が表示されます。

#### 差分行数カウント集計コマンド
```
> java -cp keisuke-x.x.x-jar-with-dependencies.jar keisuke.DiffReport [差分計測ファイル]
```
差分計測ファイルは入力であり、省略時は標準入力となります。  
差分計測ファイルは、stepcounter.diffcount.MainでTEXT形式で出力されたファイルと同じフォーマットであることが必要です。  
入力を分類ごとに集計した結果は標準出力に出力されます。

オプション引数"-?", "--help"を指定すると他のオプション引数が表示されます。

#### 差分ファイル行数抽出コマンド
```
> java -cp keisuke-x.x.x-jar-with-dependencies.jar keisuke.MatchExtract [行数計測ファイル] [差分リストファイル]
```
行数計測ファイルは入力であり、stepcounter.MainでCSV形式で出力されたファイルと同じフォーマットであることが必要です。  
差分リストファイルは入力であり、行数計測ファイルに含まれるファイルのうち集計したいものだけを列挙したファイル名リストです。これは差分行数カウント集計コマンドDiffCountの引数オプション"--aout"や"--mout"を使って追加ファイルだけ、修正ファイルだけのリストを出力したものを使うことを想定しています。  
差分リストファイルに記述されたファイルだけの集計結果が標準出力に出力されます。

オプション引数"-?", "--help"を指定すると他のオプション引数が表示されます。

- - -
#### ソースコード行数計測コマンド
```
> java -cp keisuke-x.x.x-jar-with-dependencies.jar keisuke.count.StepCount [ファイル|ディレクトリ] ...
```
行数計測の対象となるファイルまたはディレクトリを引数で１つ以上指定する。  
ディレクトリを指定した場合は、その下位にあるファイルおよびサブディレクトリが計測対象になる。  
計測した結果は標準出力に出力されます。

オプション引数"-?", "--help"を指定すると他のオプション引数が表示されます。

#### ソースコード差分行数計測コマンド
```
> java -cp keisuke-x.x.x-jar-with-dependencies.jar keisuke.count.DiffCount [新版ディレクトリ] [旧版ディレクトリ]
```
差分計測の対象となるディレクトリを引数で２つ指定する。１つ目に新バージョンのソースがあるディレクトリ、２つ目に旧バージョンのソースがあるディレクトリを指定する。  
ディレクトリの下位にあるファイルおよびサブディレクトリが計測対象になる。ディレクトリツリーの階層構造が新旧で対応するように同じ階層レベルのルートディレクトリを選ぶ。  
計測した結果は標準出力に出力されます。

オプション引数"-?", "--help"を指定すると他のオプション引数が表示されます。

- - -
### 詳細説明
より詳細な情報については、gitリポジトリのdocディレクトリ内のファイルを参照する。  
ファイルはUTF-8エンコード、UNIX改行で作成しています。

- - -
### 更新履歴
###### Version 1.0.1(2016/11/19)
* 設定xmlの更新  
・language.xmlにTypeScript定義追加  
・framework.xmlから不要な種類を削除  
###### Version 1.0.0(2016/11/13)
* 初期バージョン  

- - -
### 免責事項
* 本ソフトウェア自身およびその実行結果に対し、一切の保証をしません
* 本ソフトウェアを利用したことで生じる結果に対し、如何なる責任も負いません
